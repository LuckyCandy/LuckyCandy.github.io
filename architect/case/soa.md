## 面向服务架构（SOA）

### 1.概念

SOA是一个组件模型，它将应用程序的不同功能单元（也就是服务）通过定义好的接口和契约联系起来，互相调用。

接口采用中立的方式进行定义，独立于实现服务硬件平台、操作系统和编程语言。

### 2. 相关技术

1. **WSDL：**Web服务描述语言，是一种基于XML的语言，用于描述Web服务的接口、绑定和端点；通过WSDL，客户端可以了解服务的功能、操作和访问方式，从而实现与服务的互操作。
2. **UDDI：**统一描述、发现和集成，是一个用于发布和查找Web服务的标准化的中央目录。它提供了一个可查询的服务注册表，企业可以将自己的服务发布到UUDDI，客户端可以在UDDI中查找所需的服务。
3. **SOAP：**简单对象访问协议，是一种基于XML的协议，用于在Web服务和客户端之间传递消息。可以使用不同的协议（如HTTP、SMTP），支持同步和异步通信。


### 3.三大组件
1. **服务提供者：**实现和发布可用服务。将具体的业务逻辑封装成为可调用的服务，并将其注册到注册中心，包括服务的描述、接口定义和访问地址等，使其他服务请求者能够发现和使用这些服务。
2. **服务请求者：**是指需要使用服务的应用程序或系统。它通过注册中心查找所需的服务，然后根据注册中心返回的接口定义和访问地址，构造请求发送给服务提供者。
3. **注册中心：**负责接受服务提供者测注册信息，并为服务请求者提供服务的查找和访问功能。注册中心维护服务的元数据，主要包括服务的描述、接口定义和访问地址等。

### 4.ESB的作用

ESB（Enterprise Service Bus），是一种中间件架构，用于协调和管理分布式系统中的服务通信。它提供了一种集成服务的方式，通过路由、转换、消息传递和协议转换等功能来实现系统之间的通信和数据交换。<mark>ESB旨在解决系统集成和互操作性的问题</mark>，并提供了可扩展性、安全性和可靠性等方面的支持。

**ESB的作用：**

1. 描述服务的元数据和服务注册管理；
2. 在服务请求和提供者之间进行数据传递，以及对这些数据进行转换的能力；
3. 发现、路由、匹配和选择的能力，以支持服务之间的动态交互，解耦服务提供者和服务请求者；
4. 其他诸如：安全、服务质量保证、可管理性和负载均衡等能力

### 5.SAO和微服务对比

|方面|SOA|微服务|
|-|-|-|
|服务粒度|关注大粒度的服务，这些服务可能包含多个功能模块和业务逻辑|拆分更小的粒度，每个服务专注于特定的功能或业务领域|
|服务边界|服务边界模糊。服务之间存在较高的耦合和依赖|边界明确，耦合更低，可独立开发、部署|
|数据管理|共享数据存储和数据模型|每个服务拥有自己的数据存储和数据模型|
|通信协议|使用复杂的通信协议和中间件，例如：SOAP和ESB|倾向于简单、轻量级的通信协议，例如：REST和JSON|
|部署和运维|部署在大型服务器上，运维和扩展比较复杂|服务独立部署，支持持续集成和交付|